<!DOCTYPE html>
<html lang="en" manifest="site.manifest">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta http-equiv="x-ua-compatible" content="ie=edge">
		
		<title>Character Sheet. 5e.</title>
		<meta name="application-name" content="Character Sheet. 5e.">
		<meta name="description" content="Online character sheet for 5e D&amp;D.">
				
		<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
		<link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
		<link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
		<link rel="manifest" href="/manifest.json">
		<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">
		<meta name="apple-mobile-web-app-title" content="CharSheet5e">
		<meta name="theme-color" content="#ffffff">

		<link rel="stylesheet" href="styles.css">		
	</head>
	<body>
		<div class="alert-unsaved dialog">Unsaved changes...</div>
		<div class="alert-main dialog"></div>
		<div class="dialog-backup dialog">
			<form id="form_backup_restore">
				<label for="files">Restore from file</label>
				<input type="file" id="files" name="files" />
				<p>or</p>
				<label for="backup_data">Paste the character backup data</label>
				<textarea id="backup_data" name="backup_data"></textarea>
				<button type="submit">Restore</button>
				<button type="button">Cancel</button>
			</form>
		</div>
		
		<div class="container">
			<div class="app-actions">
				<button type="button" class="btn-save">Save</button>
 				<div class="dropdown-container">
					<button type="button" class="btn-load">Load</button>
					<div class="dropdown" id="character_list">
						<ul id="saved_characters"></ul>
					</div>
 				</div>
				<button type="button" class="btn-new-character">New Character</button>
				<button type="button" class="btn-file-backup">File Backup</button>
				<button type="button" class="btn-email-backup">Email Backup</button>
				<button type="button" class="btn-restore-backup">Restore Backup</button>
			</div>
			<header class="page-header">
				<h1 class="pc-charname" data-name="charname" placeholder="Character Name" contenteditable=true></h1>
				<div class="menu-open">
					<button type="button" class="btn-open-actions">Menu</button>
				</div>
			</header>
			
			<main>
				
				<dl class="field">
					<div>
						<dt>Class</dt><dd contenteditable="true" data-name="charclass"></dd>
					</div>
					<div>
						<dt>Race</dt><dd contenteditable="true" data-name="race"></dd>
					</div>
					<div>
						<dt>Background</dt><dd contenteditable="true" data-name="background"></dd>
					</div>
					<div>
						<dt>Alignment</dt><dd contenteditable="true" class="large" data-name="alignment"></dd>
					</div>
					<div>
						<dt>Level</dt><dd contenteditable="true" class="small" data-name="level"></dd>
						<dt>Experience</dt><dd contenteditable="true" data-name="experience"></dd>
					</div>
					<div>
						<dt>Proficiency Bonus</dt><dd class="small" data-name="proficiency"></dd>
						<dt>Inspiration</dt><dd contenteditable="true" class="small" data-name="inspiration"></dd>
					</div>
					<div>
						<dt>Armor Class</dt><dd contenteditable="true" class="small" data-name="armor_class"></dd>
						<dt>Speed</dt><dd contenteditable="true" class="small" data-name="speed"></dd>
					</div>
					<div>
						<dt>Hit Points</dt>
						<dd>
							<span contenteditable="true" class="small" data-name="hp_cur"></span> <strong>/</strong> 
							<span contenteditable="true" class="small" data-name="hp_max"></span>
						</dd>
					</div>
					<div>
						<dt>Hit Dice</dt>
						<dd>
							<span contenteditable="true" class="small" data-name="hd_cur"></span> <strong>/</strong> 
							<span contenteditable="true" class="small" data-name="hd_max"></span>
						</dd>
					</div>					
				</dl>

				<div class="field-row">
					<div class="field-column-33">
						<h2>Attributes</h2>
						<ul class="pc-attributes">
							<li>
								<label for="str">Str</label>
								<input type="number" id="str" class="pc-str pc-attribute" data-name="str" value=10 min=3 max=25 />
								<span class="pc-attribute-mod" id="pc-str-mod">0</span>
								<label>
									<input type="checkbox" name="pc-str-save" data-name="saves" data-subfield="str" value=1 />
									Save
								</label>
								<span class="pc-save-mod small" contenteditable="true">0</span>
							</li>
							<li>
								<label for="dex">Dex</label>
								<input type="number" id="dex" class="pc-dex pc-attribute" data-name="dex" value=10 min=3 max=25 />
								<span class="pc-attribute-mod" id="pc-dex-mod">0</span>
								<label>
									<input type="checkbox" name="pc-dex-save" data-name="saves" data-subfield="dex" value=1 />
									Save
								</label>
								<span class="pc-save-mod small" contenteditable="true">0</span>
							</li>
							<li>
								<label for="con">Con</label>
								<input type="number" id="con" class="pc-con pc-attribute" data-name="con" value=10 min=3 max=25 />
								<span class="pc-attribute-mod" id="pc-con-mod">0</span>
								<label>
									<input type="checkbox" name="pc-con-save" data-name="saves" data-subfield="con" value=1 />
									Save
								</label>
								<span class="pc-save-mod small" contenteditable="true">0</span>
							</li>
							<li>
								<label for="intel">Int</label>
								<input type="number" id="intel" class="pc-int pc-attribute" data-name="intel" value=10 min=3 max=25 />
								<span class="pc-attribute-mod" id="pc-intel-mod">0</span>
								<label>
									<input type="checkbox" name="pc-intel-save" data-name="saves" data-subfield="intel" value=1 />
									Save
								</label>
								<span class="pc-save-mod small" contenteditable="true">0</span>
							</li>
							<li>
								<label for="wis">Wis</label>
								<input type="number" id="wis" class="pc-wis pc-attribute" data-name="wis" value=10 min=3 max=25 />
								<span class="pc-attribute-mod" id="pc-wis-mod">0</span>
								<label>
									<input type="checkbox" name="pc-wis-save" data-name="saves" data-subfield="wis" value=1 />
									Save
								</label>
								<span class="pc-save-mod small" contenteditable="true">0</span>
							</li>
							<li>
								<label for="cha">Cha</label>
								<input type="number" id="cha" class="pc-cha pc-attribute" data-name="cha" value=10 min=3 max=25 />
								<span class="pc-attribute-mod" id="pc-cha-mod">0</span>
								<label>	
									<input type="checkbox" name="pc-cha-save" data-name="saves" data-subfield="cha" value=1 />
									Save
								</label>
								<span class="pc-save-mod small" contenteditable="true">0</span>
							</li>
						</ul>
						
						<h2>Weapons & Attacks</h2>
						<div contenteditable="true" class="largearea" data-name="weapons"></div>
						
						<h2>Other Proficiencies</h2>
						<div contenteditable="true" class="largearea" data-name="proficiencies_other"></div>
					</div>
									
					<div class="field-column-33">
						<h2>Skills</h2>
						<ul class="pc-skills">
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="acrobatics" data-attr="dex" />
									Acrobatics (Dex)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="animal_handling" data-attr="wis" />
									Animal Handling (Wis)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="arcana" data-attr="intel" />
									Arcana (Int)
								</label>
								<span class="pc-skill-mod">0</span>
								</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="athletics" data-attr="str"  />
									Athletics (Str)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="deception" data-attr="cha" />
									Deception (Cha)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="history" data-attr="intel" />
									History (Int)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="insight" data-attr="wis" />
									Insight (Wis)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="intimidation" data-attr="cha" />
									Intimidation (Cha)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="investigation" data-attr="intel" />
									Investigation (Int)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="medicine" data-attr="wis" />
									Medicine (Wis)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="nature" data-attr="intel" />
									Nature (Int)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="perception" data-attr="wis" />
									Perception (Wis)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="performance" data-attr="cha" />
									Performance (Cha)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="persuasion" data-attr="cha" />
									Persuasion (Cha)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="religion" data-attr="intel" />
									Religion (Int)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="sleight_of_hand" data-attr="dex" />
									Sleight of Hand (Dex)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="stealth" data-attr="dex" />
									Stealth (Dex)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
							<li>
								<label>
									<input type="checkbox" value=1 data-name="skills" data-subfield="survival" data-attr="wis" />
									Survival (Wis)
								</label>
								<span class="pc-skill-mod">0</span>
							</li>
						</ul>
					</div>
					
					<div class="field-column-33">
						<h2>Personality</h2>
						<h3>Traits</h3>
						<div contenteditable="true" class="smallarea" data-name="traits"></div>
						<h3>Ideals</h3>
						<div contenteditable="true" class="smallarea" data-name="ideals"></div>
						<h3>Bonds</h3>
						<div contenteditable="true" class="smallarea" data-name="bonds"></div>
						<h3>Flaws</h3>
						<div contenteditable="true" class="smallarea" data-name="flaws"></div>
						<h3>Appearance</h3>
						<div contenteditable="true" class="smallarea" data-name="appearance"></div>
						<h2>Languages</h2>
						<div contenteditable="true" class="smallarea" data-name="languages"></div>
					</div>
					
<!--
				</div>
				
				<div class="field-row">
-->
					<div class="field-column-33">
						<h2>Equipment</h2>
						<div contenteditable="true" class="largearea" data-name="equipment"></div>
						
						<dl class="field">
							<div>
								<dt>CP</dt><dd contenteditable="true" class="small" data-name="cp"></dd>
								<dt>SP</dt><dd contenteditable="true" class="small" data-name="sp"></dd>
							</div>
							<div>
								<dt>GP</dt><dd contenteditable="true" class="small" data-name="gp"></dd>
								<dt>PP</dt><dd contenteditable="true" class="small" data-name="pp"></dd>
							</div>
						</dl>
					</div>
					
					<div class="field-column-33">
						<h2>Features & Traits</h2>
						<div contenteditable="true" class="largearea" data-name="features"></div>
						
					</div>
					
					<div class="field-column-33">
						<h2>Notes</h2>
						<div contenteditable="true" class="largearea" data-name="notes"></div>
						
					</div>
				</div>
				
				<h2>Spells</h2>
				
				<dl class="field">
					<div>
						<dt>Spell Ability</dt><dd contenteditable="true" data-name="spell_ability"></dd>
					</div>
					<div>
						<dt>Spell Save DC</dt><dd contenteditable="true" data-name="spell_save"></dd>
					</div>
					<div>
						<dt>Spell Attack Bonus</dt><dd contenteditable="true" data-name="spell_attack"></dd>
					</div>
				</dl>
				
				<h3>Spell Slots</h3>
				
				<dl class="field">
					<div>
						<dt>1st</dt><dd contenteditable="true" data-name="spell_slots" data-subfield="1"></dd>
						<dt>2nd</dt><dd contenteditable="true" data-name="spell_slots" data-subfield="2"></dd>
					</div>
					<div>
						<dt>3rd</dt><dd contenteditable="true" data-name="spell_slots" data-subfield="3"></dd>
						<dt>4th</dt><dd contenteditable="true" data-name="spell_slots" data-subfield="4"></dd>
					</div>
					<div>
						<dt>5th</dt><dd contenteditable="true" data-name="spell_slots" data-subfield="5"></dd>
						<dt>6th</dt><dd contenteditable="true" data-name="spell_slots" data-subfield="6"></dd>
					</div>
					<div>
						<dt>7th</dt><dd contenteditable="true" data-name="spell_slots" data-subfield="7"></dd>
						<dt>8th</dt><dd contenteditable="true" data-name="spell_slots" data-subfield="8"></dd>
					</div>
					<div>
						<dt>9th</dt><dd contenteditable="true" data-name="spell_slots" data-subfield="9"></dd>
					</div>
				</dl>
				
				
				<div class="field-row wrap">
					<div class="field-column-33">
						<h3>Cantrips</h3>
						<div contenteditable="true" class="largearea" data-name="spells" data-subfield="0"></div>
					</div>
					<div class="field-column-33 hidden">
						<h3>1st</h3>
						<div contenteditable="true" class="largearea" data-name="spells" data-subfield="1"></div>
					</div>
					<div class="field-column-33 hidden">	
						<h3>2nd</h3>
						<div contenteditable="true" class="largearea" data-name="spells" data-subfield="2"></div>
					</div>
					<div class="field-column-33 hidden">
						<h3>3rd</h3>
						<div contenteditable="true" class="largearea" data-name="spells" data-subfield="3"></div>
					</div>
					<div class="field-column-33 hidden">
						<h3>4th</h3>
						<div contenteditable="true" class="largearea" data-name="spells" data-subfield="4"></div>
					</div>
					<div class="field-column-33 hidden">
						<h3>5th</h3>
						<div contenteditable="true" class="largearea" data-name="spells" data-subfield="5"></div>
					</div>
					<div class="field-column-33 hidden">
						<h3>6th</h3>
						<div contenteditable="true" class="largearea" data-name="spells" data-subfield="6"></div>
					</div>
					<div class="field-column-33 hidden">
						<h3>7th</h3>
						<div contenteditable="true" class="largearea" data-name="spells" data-subfield="7"></div>
					</div>
					<div class="field-column-33 hidden">
						<h3>8th</h3>
						<div contenteditable="true" class="largearea" data-name="spells" data-subfield="8"></div>
					</div>
					<div class="field-column-33 hidden">
						<h3>9th</h3>
						<div contenteditable="true" class="largearea" data-name="spells" data-subfield="9"></div>
					</div>
				</div>
				
			</main>
			<footer>
				<h4>Character Sheet. 5e.</h4>
				<ul>
					<li><button type="button" class="btn-plain btn-help">Help</button></li>
					<li>Created by <a href="http://madinkbeard.com">Derik A Badman</a></li>
					<li><a href="https://github.com/derikb/character-sheet-5e">Github</a></li>
				</ul>
			</footer>
		</div>
		
		<div id="dialog_help" class="dialog">
			<h1 tabindex="-1">Help</h1>
			
			<h2>Most importantly</h2>
			<ul>
				<li>This app only saves data to your browsers' local storage. If your browser's data is deleted, your saved characters will be deleted. Use the backup options to save character data when you make changes.</li>
				<li>This app is designed for modern web browsers, it has been tested in Chrome (desktop and mobile), Firefox (desktop), and Safari (desktop and mobile). It is possible this will work in IE Edge too, I haven't tested it (if you try it send me any bugs).</li>
				<li>After you've loaded the app, it will work offline in Chrome, Firefox, and Safari (desktop) as well as Safari (iOS) and Chrome (Android). Chrome (iOS) does not seem to work offline, and I haven't tried any other browsers.</li>
			</ul>

			<h2>Actions</h2>
			
			<ul>
				<li><strong>Save</strong> This will save the current character to local storage. If the character already exists it will update.</li>
				<li><strong>Load</strong> This will show you a list of saved characters (if you have any). Clicking on a character's name will load that character. Note: You will lose any unsaved data if you load a character without saving the one currently displayed.</li>
				<li><strong>New Character</strong> This will load up a new/blank character sheet. Note: You will lose any unsaved data if you create a new character without saving the one currently displayed.</li>
				<li><strong>File Backup</strong> This will create data in the JSON format that can be loaded into this app in another browser/device. It will either:
					<ul>
						<li>Generate a download file with the currently viewed character's backup data.</li>
						<li>Pop up the currently viewed character's backup data so it can be copied and pasted somewhere else.</li>
					</ul>
				</li>
				<li><strong>Email Backup</strong> This will open your default email client and start a new message containing the currently viewed character's backup data as well as instructions on how to use that data.</li>
				<li><strong>Restore Backup</strong> This opens a form for uploading a file or pasting in character backup data to save that character in the current browser. If the character already exists they will be updated to match the restored data (so be careful).</li>
			</ul>
			
			<h2>Character Sheet</h2>
			
			<ul>
				<li>Click on data or empty areas to edit. Data is NOT automatically saved; you must hit the <strong>Save</strong> button.</li>
				<li>Ability, saving throw, and skill modifiers are all automatically calculated when the proficiency, ability, save, or skill fields are changed.</li>
				<li>All other fields are manually changed.</li>
			</ul>
			
			<button type="button" class="close">Close</button>
		</div>
		
		<script src="main.min.js"></script>
	</body>
</html>